{% extends "layouts/authenticated.html" %}
{% block title %}Create Profile{% endblock %}

{% block content %}
    <div id="app">
        <div class="register-container">
            <!-- Wallet Info Card -->
            <div class="wallet-info-card">
                <div class="wallet-info-row">
                    Welcome, in order to proceed please provide us with some basic details about yourself, please use
                    the same name that appears on your bank account. This name also has to match the name on you ID
                    (International Passport, Driver's License or National ID. This will be for verification purposes in
                    the next step.
                </div>
            </div>

            <!-- Registration Form -->
            <form method="POST" action="{{ url_for('user.register', wallet_address=wallet_address, token=token) }}"
                  id="register-form">
                <!-- First Name -->
                <div class="form-group">
                    <label for="first_name" class="form-label">First Name</label>
                    <input
                            type="text"
                            id="first_name"
                            name="first_name"
                            class="form-input"
                            placeholder="Enter your first name"
                            required
                    >
                </div>

                <!-- Last Name -->
                <div class="form-group">
                    <label for="last_name" class="form-label">Last Name</label>
                    <input
                            type="text"
                            id="last_name"
                            name="last_name"
                            class="form-input"
                            placeholder="Enter your last name"
                            required
                    >
                </div>

                <!-- Email -->
                <div class="form-group">
                    <label for="email" class="form-label">Email</label>
                    <input
                            type="email"
                            id="email"
                            name="email"
                            class="form-input"
                            placeholder="your.email@example.com"
                            required
                    >
                </div>

                <!-- Phone Number -->
                <div class="form-group">
                    <label for="iban" class="form-label">IBAN</label>
                    <input
                            type="text"
                            id="iban"
                            name="iban"
                            class="form-input"
                            placeholder="IBAN"
                            required
                    >
                </div>

                <div class="form-group">
                    <label for="bic" class="form-label">BIC</label>
                    <input
                            type="text"
                            id="bic"
                            name="bic"
                            class="form-input"
                            placeholder="BIC"
                            required
                    >
                </div>

                <div class="form-group">
                    <label for="address_line_1" class="form-label">Address Line 1</label>
                    <input
                            type="text"
                            id="address_line_1"
                            name="address_line_1"
                            class="form-input"
                            placeholder="Address"
                            required
                    >
                </div>

                <div class="form-group">
                    <label for="address_line_2" class="form-label">City/Town</label>
                    <input
                            type="text"
                            id="address_line_2"
                            name="address_line_2"
                            class="form-input"
                            placeholder="City"
                            required
                    >
                </div>

                <!-- Country -->
                <div class="form-group">
                    <label for="country" class="form-label">Country</label>
                    <select id="country" name="country" class="form-select" required>
                        <option value="">Select your country</option>
                        <option value="US">United States</option>
                        <option value="GB">United Kingdom</option>
                        <option value="CA">Canada</option>
                        <option value="DE">Germany</option>
                        <option value="FR">France</option>
                        <option value="ES">Spain</option>
                        <option value="IT">Italy</option>
                        <option value="NL">Netherlands</option>
                        <option value="AU">Australia</option>
                        <option value="JP">Japan</option>
                        <option value="KR">South Korea</option>
                        <option value="SG">Singapore</option>
                        <option value="OTHER">Other</option>
                    </select>
                </div>

                <!-- Error/Success Messages -->
                <div id="message-container">
                    {% if error %}
                        <div class="error-message">{{ error }}</div>
                    {% endif %}
                    {% if success %}
                        <div class="success-message">{{ success }}</div>
                    {% endif %}
                </div>

                <!-- Submit Button -->
                <button type="submit" class="mt-4 action-button primary-button" id="submit-btn">
                    Continue
                </button>
            </form>
        </div>
    </div>
{% endblock %}
{% block additional_javascript %}
    <script>
        // Form validation
        const form = document.getElementById('register-form');
        const submitBtn = document.getElementById('submit-btn');

        form.addEventListener('submit', function (e) {
            submitBtn.disabled = true;
            submitBtn.textContent = 'Registering...';
        });
    </script>
{% endblock %}