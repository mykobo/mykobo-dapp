{% extends "layouts/authenticated.html" %}
{% block title %} Your Wallet {% endblock %}
{% block content %}
    <div id="app">
        <div class="app-container lobby-container">
            <!-- Wallet Info Button -->
            <button class="wallet-info-button">
                <span class="wallet-address">{{ wallet_address[:6] }}...{{ wallet_address[-4:] }}</span>
                <span id="wallet-balance" class="wallet-balance">{{ wallet_balance }}</span>
            </button>

            <!-- Currency Balance Buttons -->
            <div class="currency-buttons">
                <button class="currency-button">
                    <div class="currency-icon">â‚¬</div>
                    <div class="currency-amount" id="eur-balance">{{ eur_balance }}</div>
                </button>
                <button class="currency-button">
                    <div class="currency-icon">$</div>
                    <div class="currency-amount" id="usd-balance">{{ usd_balance }}</div>
                </button>
                <button class="currency-button">
                    <div class="currency-icon">$</div>
                    <div class="currency-amount" id="usdc-balance">{{ usdc_balance }}</div>
                </button>
            </div>


            <!-- Get Verified Button -->
            {% if not approved %}
                <button class="action-button primary-button" onclick="window.location.href='{{ url_for('user.kyc') }}'">
                    Get Verified
                </button>
            {% endif %}

            <!-- Action Buttons -->
            <div class="action-buttons-grid">
                <button id="deposit-btn" class="action-button secondary-button"
                        onclick="window.location.href='{{ url_for('transaction.new', type='deposit') }}'">
                    Deposit
                </button>
                <button id="withdraw-btn" class="action-button secondary-button"
                        onclick="window.location.href='{{ url_for('transaction.new', type='withdraw') }}'">
                    Withdraw
                </button>
                <button id="swap-btn" class="action-button secondary-button"
                        onclick="alert('Swap functionality coming soon')">
                    Swap
                </button>
                <button id="liquidity-btn" class="action-button secondary-button"
                        onclick="alert('Liquidity functionality coming soon')">
                    Liquidity
                </button>
            </div>

            <!-- Disconnect Button -->
            <button type="button" id="disconnect-btn" class="disconnect-button-lobby" onclick="clearAuthToken()">
                Disconnect Wallet
            </button>
        </div>
    </div>
{% endblock %}

{% block additional_javascript %}
<script>
    function clearAuthToken() {
        localStorage.removeItem('mykobo_auth_token');
        localStorage.removeItem('mykobo_wallet_address');
        window.location.href = '{{ url_for("auth.logout") }}';
    }
</script>
{% endblock %}
